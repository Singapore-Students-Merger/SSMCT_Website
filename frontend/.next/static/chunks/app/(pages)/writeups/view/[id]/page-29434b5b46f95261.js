(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6002],{8892:(e,t,n)=>{Promise.resolve().then(n.bind(n,5037)),Promise.resolve().then(n.t.bind(n,5513,23)),Promise.resolve().then(n.t.bind(n,5160,23)),Promise.resolve().then(n.bind(n,8385)),Promise.resolve().then(n.bind(n,3305))},6911:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(5155),s=n(9795);let i=e=>{let{children:t,onClick:n,beforeIcon:i,afterIcon:o,className:a,type:l="button",version:c="primary",shadow:m=!0,border:d=!0,disabled:u=!1}=e;return(0,r.jsxs)("button",{className:(0,s.QP)("\n        text-primary\n        ".concat(m?"shadow-[0_0_2px_0_var(--tw-shadow-color)] shadow-primary/50":"","\n        rounded-full\n        px-4 py-2\n        font-semibold\n        hover:brightness-90 \n        transition\n        duration-200\n        flex items-center justify-center\n        text-lg\n        focus:outline-none\n        focus:ring-2\n        focus:ring-primary\n        flex \n        justify-between\n    "),"primary"===c?"bg-secondary-tier3":"bg-secondary-tier2/50",d?"border-2 border-secondary-tier2":"",a),onClick:n,type:l,disabled:u,children:[i&&(0,r.jsx)("span",{className:"mr-2",children:i}),(0,r.jsx)("div",{className:"grow",children:t}),o&&(0,r.jsx)("span",{className:"ml-2",children:o})]})}},8385:(e,t,n)=>{"use strict";n.d(t,{default:()=>i});var r=n(5155),s=n(9795);let i=e=>{let{className:t,children:n,beforeIcon:i,afterIcon:o,onClick:a,beforeIconClickHandler:l,afterIconClickHandler:c}=e;return(0,r.jsxs)("div",{onClick:a,className:(0,s.QP)("bg-tertiary text-primary w-fit text-lg px-4 py-2 rounded-full",t),children:[i&&(0,r.jsx)("div",{onClick:l,children:i}),(0,r.jsx)("div",{children:n}),o&&(0,r.jsx)("div",{onClick:c,children:o})]})}},3305:(e,t,n)=>{"use strict";n.d(t,{default:()=>u});var r=n(5155),s=n(2115),i=n(6911),o=n(5037);let a=e=>{let{id:t,type:n,setComments:a}=e,[l,c]=(0,s.useState)(""),m=(0,s.useRef)(null);return(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),""===l.trim()){o.Ay.error("Comment cannot be empty");return}let r=fetch("/api/".concat(n,"/comment/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:l})}).then(async e=>{if(!e.ok)throw Error((await e.json()).message);let t=(await e.json()).data;a(e=>[t,...e]),c("")}).catch(e=>{throw console.error("Error submitting comment:",e.message),Error("An error occurred while submitting the comment")});return o.Ay.promise(r,{loading:"Submitting comment...",success:"Comment submitted!",error:e=>e.message||"An error occurred"}),!1},children:[(0,r.jsx)("textarea",{className:"\n          mt-12\n          text-white\n        w-full\n        rounded-lg\n        px-4 py-4\n        font-semibold\n        hover:brightness-90 \n        transition\n        duration-200\n        flex items-center justify-center\n        text-lg\n        focus:outline-none\n        focus:ring-2\n        focus:ring-secondary\n        bg-secondary-tier3",ref:m,value:l,onChange:e=>{let t=m.current;t&&(t.style.height="auto",t.style.height="".concat(t.scrollHeight,"px")),c(e.target.value)},placeholder:"Add Comment...",rows:2}),(0,r.jsx)(i.A,{shadow:!1,type:"submit",version:"secondary",className:"ml-auto my-4 px-8",children:"Submit"})]})};var l=n(5565);function c(e){var t;let{comment:n}=e,s=new Date(n.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,r.jsxs)("div",{className:"flex items-start space-x-8",children:[(0,r.jsx)(l.default,{src:null!==(t=n.user.image)&&void 0!==t?t:"/default.png",alt:"Profile Picture",width:50,height:50,className:"rounded-full"}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("h3",{className:"font-bold text-xl",children:n.user.name}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:s})]}),(0,r.jsx)("p",{className:"text-white text-xl",children:n.comment})]})]})}var m=n(8173),d=n.n(m);function u(e){let{comments:t,id:n,type:i,loggedIn:l,commentsError:m}=e,[u,h]=(0,s.useState)(t);return(0,s.useEffect)(()=>{m&&o.Ay.error("Error fetching comments")},[m]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("section",{className:"px-16 mt-4 mb-32",children:[l&&(0,r.jsx)(a,{id:n,type:i,setComments:h}),!l&&(0,r.jsxs)("p",{className:"text-center text-lg",children:["Please ",(0,r.jsx)(d(),{href:"/auth/signin",className:"text-[#3182ce]",children:"login"})," to comment"]}),(0,r.jsx)("hr",{className:"border-t-2 mt-8 mb-16 border-secondary"}),(0,r.jsx)("h2",{className:"text-3xl font-bold",children:"Comments"}),(0,r.jsxs)("div",{className:"space-y-8 mt-8",id:"commentsSection",children:[0===u.length&&(0,r.jsx)("p",{className:"text-center text-2xl mt-4 text-bold text-white",id:"no_comments",children:"No comments yet"}),u.map((e,t)=>(0,r.jsx)(c,{comment:e},t))]})]})})}},5513:()=>{},5160:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[4934,9795,7970,9465,5037,8441,1517,7358],()=>t(8892)),_N_E=e.O()}]);